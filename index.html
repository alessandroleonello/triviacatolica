<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perguntados Cat√≥lico</title>
    <link id="style-id" rel="stylesheet" href="styleModern.css">
    <link rel="icon" href="images/logo.png">
    <link rel="manifest" href="/manifest.json"> 

    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"> <meta name="theme-color" content="#3a404a"> <link rel="apple-touch-icon" href="/images/icons/icon-192x192.png">
</head>

<body>
    <audio id="audio-correct" src="sounds/correct.mp3"></audio>
    <audio id="audio-wrong" src="sounds/wrong.mp3"></audio>
    <audio id="audio-click" src="sounds/click.mp3"></audio>
    <audio id="audio-spin" src="sounds/spin.mp3"></audio>



    <div class="game-container">

        <div id="login-screen" class="screen active">
            <h1>Perguntados Cat√≥lico</h1>
            <p>Teste seus conhecimentos e suba na torre!</p>
            <button id="login-google-btn" class="login-button">
                <img src="https://img.icons8.com/color/48/000000/google-logo.png" alt="Google">
                Entrar com Google
            </button>
           
        </div>

        <div id="home-screen" class="screen">
           
            <div class="user-profile">
                <H1 class="title-app">Perguntados Cat√≥lico</H1>
                <img id="user-photo" src="images/avatar-default.png" alt="Foto do Usu√°rio">

                <div class="user-profile-info">
                    <h3 id="user-name">Carregando...</h3>
                    <p id="user-username">@carregando</p>
                    <p>Pontos: <span id="user-score">0</span></p>
                    <p>N√≠vel da Torre: <span id="user-level">1</span></p>
                </div>

                <button id="edit-profile-btn" class="edit-profile-btn">‚öôÔ∏è</button>
                <button id="logout-btn" class="logout-button">Sair</button>
            </div>
 <div class="altern-theme">
                <p class="altern-theme-text">Tema:</p>
                <button class="button-theme">Modern</button>
                <button class="button-theme">Sacro</button>
                <button class="button-theme">Clear</button>

            </div>
            <h2>Escolha um modo:</h2>
            <div class="mode-select">
                <button class="mode-button" data-mode="torre">
                    üèõÔ∏è Modo Torre
                    <span>Aumente seu n√≠vel da Torre e conquiste os personagens</span>
                </button>
                <button class="mode-button" data-mode="tempo">
                    ‚è±Ô∏è Contra o Tempo
                    <span>Acerte o m√°ximo que puder antes que o tempo acabe</span>
                </button>
                <button class="mode-button collection" data-mode="colecao">
                    üèÜ Minha Cole√ß√£o
                    <span>Veja os personagens que voc√™ desbloqueou</span>
                </button>
                <button class="mode-button ranking" data-mode="ranking">
                    üìä Ranking Global
                    <span>Veja os melhores jogadores</span>
                </button>
                <button class="mode-button factory" data-mode="fabrica">
                    üè≠ F√°brica
                    <span>Envie e avalie perguntas</span>
                </button>
                <button id="install-pwa-btn" class="install-button">
                    Instalar App no Celular
                </button>
            </div>

            <div class="ad-placeholder-inline">
                <p>An√∫ncio (300x100)</p>
            </div>

        </div>


        <div id="roulette-screen" class="screen">
            <h2>Gire a Roleta!</h2>
            <div class="roulette-container">
                <div class="roulette-wheel" id="roulette-wheel"></div>
                <button id="spin-roulette-btn" class="roulette-center-button">GIRAR</button>
                <div class="roulette-pointer"></div>
            </div>
            <button id="roulette-back-btn" class="back-button">Voltar ao Menu</button>
        </div>


        <div id="game-screen" class="screen">
            <div class="game-header">
                <span id="game-mode-title">MODO TORRE</span>
                <span id="game-timer-or-level">N√≠vel 1</span>
            </div>
            <div class="question-card">
                <p id="question-text">Qual o primeiro livro da B√≠blia?</p>
            </div>
            <div class="answer-options">
                <button class="option" data-answer="0">G√™nesis</button>
                <button class="option" data-answer="1">√äxodo</button>
                <button class="option" data-answer="2">Salmos</button>
                <button class="option" data-answer="3">Apocalipse</button>
            </div>
            <button id="game-back-btn" class="back-button">Voltar ao Menu</button>
        </div>
        <div id="collection-screen" class="screen">
            <h2>Minha Cole√ß√£o</h2>
            <button id="collection-back-btn" class="back-button">Voltar ao Menu</button>

            <p>Estes s√£o os personagens que voc√™ desbloqueou!</p>
            <div id="collection-grid" class="collection-grid">
            </div>
            
            <button id="collection-back-btn" class="back-button">Voltar ao Menu</button>
            <div class="ad-placeholder-inline" style="margin-top: 20px;">
                <p>An√∫ncio (300x100)</p>
            </div>
        </div>
        <div id="ranking-screen" class="screen">
            <h2>Ranking Global</h2>
            <p>Os 10 melhores jogadores. O ranking √© baseado em Pontos Totais.</p>
            
            <ol id="ranking-list" class="ranking-list">
                <li>Carregando...</li>
            </ol>
            
            <div id="user-ranking-display" class="user-ranking-display">
                </div>
            
            <button id="ranking-back-btn" class="back-button">Voltar ao Menu</button>
        </div>
        <div id="factory-screen" class="screen">
            <div class="factory-tabs">
                <button class="tab-button active" data-tab="enviar">Enviar Pergunta</button>
                <button class="tab-button" data-tab="avaliar">Avaliar Perguntas</button>
            </div>

            <div id="enviar-tab" class="tab-content active">
                <h3>Envie sua Pergunta</h3>
                <form id="submit-question-form">
                    <div class="form-group">
                        <label for="categoria">Categoria:</label>
                        <select id="categoria" name="categoria">
                            <option value="escrituras">Sagradas Escrituras</option>
                            <option value="santos">Santos e M√°rtires</option>
                            <option value="doutrina">Doutrina e Dogmas</option>
                            <option value="historia">Hist√≥ria da Igreja</option>
                            <option value="liturgia">Liturgia e Sacramentos</option>
                            <option value="arte">Arte e Cultura Sacra</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="pergunta-texto">Pergunta:</label>
                        <textarea id="pergunta-texto" rows="3"></textarea>
                    </div>
                    <div class="form-group">
                        <label>Op√ß√µes (Marque a correta):</label>

                        <div class="option-input-group">
                            <input type="radio" name="correct-answer" value="0" checked>
                            <input type="text" placeholder="Op√ß√£o 1" id="op0" class="option-input" required>
                        </div>

                        <div class="option-input-group">
                            <input type="radio" name="correct-answer" value="1">
                            <input type="text" placeholder="Op√ß√£o 2" id="op1" class="option-input" required>
                        </div>

                        <div class="option-input-group">
                            <input type="radio" name="correct-answer" value="2">
                            <input type="text" placeholder="Op√ß√£o 3" id="op2" class="option-input" required>
                        </div>

                        <div class="option-input-group">
                            <input type="radio" name="correct-answer" value="3">
                            <input type="text" placeholder="Op√ß√£o 4" id="op3" class="option-input" required>
                        </div>

                    </div>
                    <button type="submit" class="submit-button">Enviar para Avalia√ß√£o</button>
                </form>
            </div>

            <div id="avaliar-tab" class="tab-content">
                <h3>Avalie esta Pergunta</h3>
                <div class="review-card">
                    <span class="review-category">Doutrina e Dogmas</span>
                    <p class="review-text">A Sant√≠ssima Trindade √© composta por quantas pessoas?</p>
                    <span class="review-option correct">3</span>
                    <span class="review-option">1</span>
                    <span class="review-option">12</span>
                    <span class="review-option">7</span>
                </div>
                <div class="review-actions">
                    <button id="review-reject" class="review-button reject">‚ùå Rejeitar</button>
                    <button id="review-approve" class="review-button approve">‚úÖ Aprovar</button>
                </div>
            </div>
            <button id="factory-back-btn" class="back-button">Voltar ao Menu</button>
        </div>
    </div>

<div id="category-choice-popup" class="popup-overlay">
        <div class="popup-content">
            <h3>N√≠vel Alcan√ßado!</h3>
            <p>Escolha uma categoria para desbloquear um personagem:</p>
            <div id="category-choice-buttons" class="choice-buttons-grid">
                <button class="choice-button" data-category="Santos">SANTOS</button>
                <button class="choice-button" data-category="Papas">PAPAS</button>
                <button class="choice-button" data-category="T√≠tulos Marianos">T√çTULOS MARIANOS</button>
                <button class="choice-button" data-category="Figuras Modernas">FIGURAS MODERNAS</button>
            </div>
            <p class="choice-note">Escolha apenas uma vez!</p>
        </div>
    </div>

    <div id="character-detail-popup" class="popup-overlay">
        <div class="popup-content">
            
            <img id="detail-img" src="" alt="Detalhe do Personagem">
            <h3 id="detail-category"></h3>
            <p class="detail-name" id="detail-name"></p>
            <p class="detail-history" id="detail-history"></p>
            <button id="detail-close-btn" class="popup-button">Fechar</button>
        </div>
    </div>

    <div id="character-unlocked-popup" class="popup-overlay">
    <div class="popup-content">
        <h3>Personagem Desbloqueado!</h3>
        <img id="unlocked-character-img" src="" alt="Personagem Desbloqueado">
        <p id="unlocked-character-name"></p> 
        <button id="popup-close-btn" class="popup-button">Que Incr√≠vel!</button>
    </div>
</div>
    
<div id="profile-edit-popup" class="popup-overlay">
    <div class="popup-content">
        <h3 id="edit-popup-title">Definir Nome de Usu√°rio</h3>
        <p>Seu nome de usu√°rio (@username) ser√° sua identifica√ß√£o √∫nica no jogo.</p>
        
        <label for="input-display-name">Nome de Exibi√ß√£o:</label>
        <input type="text" id="input-display-name" maxlength="50" placeholder="Seu Nome Completo">

        <label for="input-username">Nome de Usu√°rio (@username):</label>
        <input type="text" id="input-username" maxlength="30" placeholder="ex: seu_nickname123">
        <p id="username-error-msg" class="error-message"></p>

        <button id="save-profile-btn" class="popup-button">Salvar Perfil</button>
        <button id="cancel-edit-btn" class="popup-button secondary-button">Cancelar</button>
    </div>
</div>

    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>

    <script src="script.js"></script>
</body>

</html>